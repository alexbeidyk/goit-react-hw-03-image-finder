{"version":3,"sources":["Component/ImageGalleryItem/ImageGalleryItem.jsx","Component/ImageGallery/ImageGallery.jsx","Component/Searchbar/Searchbar.jsx","Component/Loader/BlockLoader.jsx","Component/Button/Button.jsx","Component/Modal/Modal.jsx","api/imagesApi.js","Component/Slider/Slider.jsx","App.js","index.js","Component/Searchbar/Searchbar.module.css","Component/Modal/Modal.module.css","App.module.css"],"names":["useStyles","createUseStyles","ImageGalleryItem","borderRadius","boxShadow","ImageGalleryItemImage","width","height","objectFit","transition","transform","cursor","url","titel","onClick","urlForModal","classes","className","src","alt","ImageGallery","display","maxWidth","gridTemplateColumns","gridGap","marginTop","marginBottom","padding","listStyle","marginLeft","marginRight","images","map","image","webformatURL","type","largeImageURL","id","Searchbar","state","query","handleChange","e","value","currentTarget","setState","handleSubmit","preventDefault","props","onSubmit","styles","SearchForm","this","button","label","input","autoComplete","autoFocus","placeholder","onChange","Component","blockLoader","position","top","left","BlockLoader","color","margin","backgroundColor","textAlign","border","textDecoration","fontFamily","fontSize","lineHeight","fontStyle","fontWeight","minWidth","Button","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","children","axios","defaults","baseURL","params","key","image_type","orientation","per_page","fetchImagesWithQuery","q","page","a","get","data","hits","console","log","error","buttonPrevious","background","buttonNext","Slider","modalImgUrl","index","item","indexOf","useState","currentIndex","setCurrentIndex","handleNextImg","length","prevState","handlePreviousIndex","useEffect","currentImgUrl","App","currentPage","isLoading","showModal","fetchImages","then","imagesData","catch","finally","getQueryValue","hendleButtonClick","scrollToBottom","scrollTo","documentElement","scrollHeight","behavior","toggleModal","prevProps","snapshot","app","message","ReactDOM","render","StrictMode","getElementById","module","exports"],"mappings":"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","file":"static/js/main.d5a74773.chunk.js","sourcesContent":["import React from 'react';\nimport { createUseStyles } from 'react-jss';\nimport PropTypes from 'prop-types';\n\nconst useStyles = createUseStyles({\n  ImageGalleryItem: {\n    borderRadius: '2px',\n    boxShadow: [\n      '0px 1px 3px 0px rgba(0, 0, 0, 0.2)',\n      ' 0px 1px 1px 0px rgba(0, 0, 0, 0.14)',\n      '0px 2px 1px -1px rgba(0, 0, 0, 0.12)',\n    ],\n  },\n  ImageGalleryItemImage: {\n    width: '100%',\n    height: '260px',\n    objectFit: 'cover',\n    transition: ['transform', '250ms', 'cubic-bezier(0.4, 0, 0.2, 1)'],\n    '&:hover': {\n      transform: 'scale(1.03)',\n      cursor: 'zoom-in',\n    },\n  },\n});\n\nconst ImageGalleryItem = ({ url, titel, onClick, urlForModal }) => {\n  const classes = useStyles();\n  return (\n    <li\n      className={classes.ImageGalleryItem}\n      onClick={() => onClick(urlForModal)}\n    >\n      <img src={url} alt={titel} className={classes.ImageGalleryItemImage} />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  onClick: PropTypes.func.isRequired,\n  url: PropTypes.string,\n  titel: PropTypes.string,\n  urlForModal: PropTypes.string,\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport { createUseStyles } from 'react-jss';\nimport PropTypes from 'prop-types';\n\nconst useStyles = createUseStyles({\n  ImageGallery: {\n    display: 'grid',\n    maxWidth: 'calc(100vw - 48px)',\n    gridTemplateColumns: 'repeat(auto-fill, minmax(260px, 1fr))',\n    gridGap: '16px',\n    marginTop: 0,\n    marginBottom: 0,\n    padding: 0,\n    listStyle: 'none',\n    marginLeft: 'auto',\n    marginRight: 'auto',\n  },\n});\n\nconst ImageGallery = ({ images, onClick }) => {\n  const classes = useStyles();\n  return (\n    <ul className={classes.ImageGallery}>\n      {images.map(image => (\n        <ImageGalleryItem\n          key={image.id}\n          url={image.webformatURL}\n          titel={image.type}\n          urlForModal={image.largeImageURL}\n          onClick={onClick}\n        />\n      ))}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  onClick: PropTypes.func.isRequired,\n  images: PropTypes.array.isRequired,\n};\n\nexport default ImageGallery;\n","import React, { Component } from 'react';\nimport styles from './Searchbar.module.css';\nimport PropTypes from 'prop-types';\n\nexport default class Searchbar extends Component {\n  state = {\n    query: '',\n  };\n\n  handleChange = e => {\n    const value = e.currentTarget.value;\n    this.setState({ query: value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.query);\n  };\n\n  render() {\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={styles.button}>\n            <span className={styles.label}>Search</span>\n          </button>\n\n          <input\n            className={styles.input}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nimport { createUseStyles } from 'react-jss';\n\nconst useStyles = createUseStyles({\n  blockLoader: {\n    position: 'fixed',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%,-50%)',\n  },\n});\n\nconst BlockLoader = () => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.blockLoader}>\n      <Loader type=\"BallTriangle\" color=\"#3f51b5\" height={100} width={100} />\n    </div>\n  );\n};\n\nexport default BlockLoader;\n","import { createUseStyles } from 'react-jss';\nimport PropTypes from 'prop-types';\n\nconst useStyles = createUseStyles({\n  button: {\n    margin: ['20px', 'auto'],\n    padding: ['8px', '16px'],\n    borderRadius: '2px',\n    backgroundColor: '#3f51b5',\n    transition: ['all', '250ms', 'cubic-bezier(0.4, 0, 0.2, 1)'],\n    textAlign: 'center',\n    display: 'block',\n    color: ' #fff',\n    border: 0,\n    textDecoration: 'none',\n    cursor: 'pointer',\n    fontFamily: 'inherit',\n    fontSize: '18px',\n    lineHeight: '24px',\n    fontStyle: 'normal',\n    fontWeight: 500,\n    minWidth: '180px',\n    boxShadow: [\n      '0px 3px 1px -2px rgba(0, 0, 0, 0.2)',\n      '0px 2px 2px 0px rgba(0, 0, 0, 0.14)',\n      ' 0px 1px 5px 0px rgba(0, 0, 0, 0.12)',\n    ],\n    '&:hover': {\n      backgroundColor: ' #303f9f',\n    },\n  },\n});\n\nconst Button = ({ onClick }) => {\n  const classes = useStyles();\n  return (\n    <button type=\"button\" className={classes.button} onClick={onClick}>\n      Load more\n    </button>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\nexport default Button;\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport styles from './Modal.module.css';\nimport PropTypes from 'prop-types';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n  render() {\n    return createPortal(\n      <div className={styles.Overlay} onClick={this.handleBackdropClick}>\n        <div className={styles.Modal}>{this.props.children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n};\n","import axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/';\nconst API_KEY = '19522595-24b394bcd15e2754e0ed68cbf';\n\naxios.defaults.baseURL = BASE_URL;\naxios.defaults.params = {\n  key: API_KEY,\n  image_type: 'photo',\n  orientation: 'horizontal',\n  per_page: 12,\n};\n\nconst fetchImagesWithQuery = async (q, page) => {\n  try {\n    const { data } = await axios.get('api/', { params: { q, page } });\n\n    return data.hits;\n  } catch (error) {\n    console.log('error', { error });\n    return [];\n  }\n};\n\nexport default fetchImagesWithQuery;\n","import React, { useState, useEffect } from 'react';\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\nimport ArrowForwardIosIcon from '@material-ui/icons/ArrowForwardIos';\nimport { createUseStyles } from 'react-jss';\n\nconst useStyles = createUseStyles({\n  buttonPrevious: {\n    background: 'transparent',\n    border: 'none',\n    position: 'absolute',\n    top: '50%',\n    left: '10%',\n    transform: ' translate(-50%, -50%)',\n  },\n  buttonNext: {\n    background: 'transparent',\n    border: 'none',\n    position: 'absolute',\n    top: '50%',\n    left: '90%',\n    transform: ' translate(-50%, -50%)',\n  },\n});\n\nconst Slider = ({ modalImgUrl, images }) => {\n  const classes = useStyles();\n  const modalImgUrlArray = images.map(item => item.largeImageURL);\n  const index = modalImgUrlArray.indexOf(modalImgUrl);\n\n  const [currentIndex, setCurrentIndex] = useState(index);\n\n  const handleNextImg = () => {\n    if (currentIndex < images.length - 1) {\n      setCurrentIndex(prevState => prevState + 1);\n    }\n  };\n\n  const handlePreviousIndex = () => {\n    if (currentIndex > 0) {\n      setCurrentIndex(prevState => prevState - 1);\n    }\n  };\n\n  const handleKeyDown = e => {\n    if (e.code === 'ArrowRight') {\n      handleNextImg();\n    }\n    if (e.code === 'ArrowLeft') {\n      handlePreviousIndex();\n    }\n  };\n\n  useEffect(() => {\n    document.addEventListener('keydown', handleKeyDown);\n\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [currentIndex]);\n\n  const currentImgUrl = images[currentIndex].largeImageURL;\n  return (\n    <>\n      <button\n        className={classes.buttonPrevious}\n        type=\"button\"\n        onClick={handlePreviousIndex}\n      >\n        <ArrowBackIosIcon color=\"primary\" fontSize=\"large\" />\n      </button>\n\n      <img src={currentImgUrl} alt=\"modal images\" />\n\n      <button\n        className={classes.buttonNext}\n        type=\"button\"\n        onClick={handleNextImg}\n      >\n        <ArrowForwardIosIcon color=\"primary\" fontSize=\"large\" />\n      </button>\n    </>\n  );\n};\n\nexport default Slider;\n","import React, { Component } from 'react';\n\nimport ImageGallery from './Component/ImageGallery';\nimport Searchbar from './Component/Searchbar';\nimport BlockLoader from './Component/Loader';\nimport Button from './Component/Button';\nimport Modal from './Component/Modal';\nimport fetchImagesWithQuery from './api/imagesApi';\nimport Slider from './Component/Slider';\n\nimport styles from './App.module.css';\n\nclass App extends Component {\n  state = {\n    images: [],\n    currentPage: 1,\n    value: '',\n    error: null,\n    isLoading: false,\n    showModal: false,\n    modalImgUrl: '',\n  };\n\n  getSnapshotBeforeUpdate(prevProps, prevState) {\n    if (\n      prevState.images.length < this.state.images.length &&\n      this.state.images.length > 12\n    ) {\n      return 'tro-lo-lo';\n    }\n    return null;\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (prevState.value !== this.state.value) {\n      this.fetchImages();\n    }\n    if (snapshot !== null) {\n      this.scrollToBottom();\n    }\n  }\n\n  fetchImages = () => {\n    const { value, currentPage } = this.state;\n\n    this.setState({ isLoading: true });\n\n    fetchImagesWithQuery(value, currentPage)\n      .then(imagesData => {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...imagesData],\n          currentPage: prevState.currentPage + 1,\n        }));\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  getQueryValue = value => {\n    this.setState({\n      value,\n      currentPage: 1,\n      images: [],\n      error: null,\n    });\n  };\n\n  hendleButtonClick = () => {\n    this.fetchImages();\n  };\n\n  scrollToBottom = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  toggleModal = (url = '') => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n      modalImgUrl: url,\n    }));\n  };\n\n  render() {\n    const { images, isLoading, error, showModal, modalImgUrl } = this.state;\n\n    return (\n      <div className={styles.app}>\n        <Searchbar onSubmit={this.getQueryValue} />\n        {error && <p>Whoops, something went wrong: {error.message}</p>}\n        {isLoading && <BlockLoader />}\n        {images.length > 0 && (\n          <ImageGallery images={images} onClick={this.toggleModal} />\n        )}\n        {images.length > 0 && <Button onClick={this.hendleButtonClick} />}\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <Slider modalImgUrl={modalImgUrl} images={images} />\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1w-M8\",\"SearchForm\":\"Searchbar_SearchForm__1B3wO\",\"button\":\"Searchbar_button__1PnWb\",\"label\":\"Searchbar_label__23Ejt\",\"input\":\"Searchbar_input__FauSi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__M82wv\",\"Modal\":\"Modal_Modal__oztFN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__1Ez80\"};"],"sourceRoot":""}